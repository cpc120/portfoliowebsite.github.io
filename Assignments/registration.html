<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Invitation Page</title>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <script>
      function myFunction() {
        alert("The form was submitted");
      }
      //Validation Logic Definition
      //including validateMe() function
      // this was to default the user's cursor to the first erroneous input field in the event that there is an input error
      document.querySelectorAll("form").forEach(function ($form) {
        $form.addEventListener("submit", validateMe, false);
        $form.setAttribute("nonvalidate", "");
      });
      function validateMe(e) {
        var $form = e.target,
          i = 0,
          field_count = $form.elements.length,
          $first_error = false;

        for (i; i < field_count; i++) {
          var $field = $form.elements[i],
            valid = isValid($field);
          if (!$first_error && !valid) {
            $first_error = $field;
          }
        }

        if ($first_error) {
          e.preventDefault();
          $first_error.focus();
        }
      }
      function submitForm() {
        if (validationfails) {
          return false;
        } else {
          document.form.submit();
          return true;
        }
      }
      document.getElementById('registrationForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent form submission

            // Get form inputs
            var firstName = document.getElementById('firstName').value;
            var lastName = document.getElementById('lastName').value;
            var email = document.getElementById('email').value;
            var phoneNumber = document.getElementById('phoneNumber').value;

            // Save inputs to cookies
            document.cookie = 'firstName=' + encodeURIComponent(firstName);
            document.cookie = 'lastName=' + encodeURIComponent(lastName);
            document.cookie = 'email=' + encodeURIComponent(email);
            document.cookie = 'phoneNumber=' + encodeURIComponent(phoneNumber);

            // Open confirm.html page
            window.open('confirm.html', '_self');
        });
    </script>
  </head>

  <body>
    <header>
      <div class="top">
        <a class="logo" href="index.html"
          >CapellaVolunteers<span class="dotcom">.org</span></a
        >
      </div>
      <nav>
        <ul class="topnav">
          <li><a href="index.html">Home</a></li>
          <li><a href="invitation.html">Invitation</a></li>
          <li><a href="volunteer.html">Volunteers</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="registration.html" class="active">Registration</a></li>
        </ul>
      </nav>
    </header>
    <section>
      <div>
        <! attribute added to the form tag>
        <form id="registrationForm" action="confirm.html" method="get">
          <! each section follows the same format from here by using the pattern attribute for the user to input data>
          <! the title attribute was used to specificy data required in each input field>
          <! error messages are customized to their assigned input field using the following attributes: required, aria-required, data-error-required, aria-errormessage, and aria-invalid>
          <! this was to default the user's cursor to the first erroneous input field in the event that there is an input error>
          <label for="userName">Username:</label>
          <input
            type="text"
            id="userName"
            name="username"
            placeholder="Enter your Username"
            pattern="[a-zA-Z][a-zA-Z0-9-_.]{1,10}"
            title="Must be 1 - 10 characters and only contain numbers and letters (inclusive)"
            required
          />

          <label for="Password">Password: </label>
          <input
            type="password"
            id="password"
            name="password"
            placeholder="Enter your Password"
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
            title="Must be a minimum of 8 characters"
            required
          />

          <label for="passwordVerify">Verify your Password: </label>
          <input
            type="password"
            id="passwordVerify"
            name="passwordVerify"
            placeholder="Enter in your Password again"
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
            title="Must match password"
            required
          />

          <label for="firstName">First Name: </label>
          <input
            type="text"
            id="firstName"
            name="firstName"
            placeholder="Enter your First Name"
            required
          />

          <label for="hostName">Last Name: </label>
          <input
            type="text"
            id="lastName"
            name="lastName"
            placeholder="Enter your Last Name"
            required

          <label for="email">Email: </label>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="Enter your Email Address"
            title="Uses xxx@xxx.xxx format"
            required
          />
          <label for="phoneNumber">Phone Number </label>
          <input
            type="tel"
            id="phone"
            name="phone"
            placeholder="Enter your Phone Number"
            pattern="^\d{3}-\d{3}-\d{4}$"
            title="Uses xxx-xxx-xxxx format"
            required
          />
          <label for="signUpNewsletter">Sign up for newsletter: </label>
          <input type="radio" name="signUpNewsletter" value="Yes" checked /> Yes
          <input type="radio" name="signUpNewsletter" value="No" /> No
            <input type="submit" value="Submit"/>
          </a>
        </form>
      </div>
    </section>
    <footer>This events site is for IT3515 tasks.</footer>
  </body>
</html>
